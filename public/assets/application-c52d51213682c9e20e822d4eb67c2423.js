(function(a,b){var c;a.rails=c={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote], a[data-disable-with]",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not(button[type])",disableSelector:"input[data-disable-with], button[data-disable-with], textarea[data-disable-with]",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled",requiredInputSelector:"input[name][required]:not([disabled]),textarea[name][required]:not([disabled])",fileInputSelector:"input:file",linkDisableSelector:"a[data-disable-with]",CSRFProtection:function(b){var c=a('meta[name="csrf-token"]').attr("content");c&&b.setRequestHeader("X-CSRF-Token",c)},fire:function(b,c,d){var e=a.Event(c);return b.trigger(e,d),e.result!==!1},confirm:function(a){return confirm(a)},ajax:function(b){return a.ajax(b)},href:function(a){return a.attr("href")},handleRemote:function(d){var e,f,g,h,i,j;if(c.fire(d,"ajax:before")){h=d.data("cross-domain")||null,i=d.data("type")||a.ajaxSettings&&a.ajaxSettings.dataType;if(d.is("form")){e=d.attr("method"),f=d.attr("action"),g=d.serializeArray();var k=d.data("ujs:submit-button");k&&(g.push(k),d.data("ujs:submit-button",null))}else d.is(c.inputChangeSelector)?(e=d.data("method"),f=d.data("url"),g=d.serialize(),d.data("params")&&(g=g+"&"+d.data("params"))):(e=d.data("method"),f=c.href(d),g=d.data("params")||null);return j={type:e||"GET",data:g,dataType:i,crossDomain:h,beforeSend:function(a,e){return e.dataType===b&&a.setRequestHeader("accept","*/*;q=0.5, "+e.accepts.script),c.fire(d,"ajax:beforeSend",[a,e])},success:function(a,b,c){d.trigger("ajax:success",[a,b,c])},complete:function(a,b){d.trigger("ajax:complete",[a,b])},error:function(a,b,c){d.trigger("ajax:error",[a,b,c])}},f&&(j.url=f),c.ajax(j)}return!1},handleMethod:function(d){var e=c.href(d),f=d.data("method"),g=d.attr("target"),h=a("meta[name=csrf-token]").attr("content"),i=a("meta[name=csrf-param]").attr("content"),j=a('<form method="post" action="'+e+'"></form>'),k='<input name="_method" value="'+f+'" type="hidden" />';i!==b&&h!==b&&(k+='<input name="'+i+'" value="'+h+'" type="hidden" />'),g&&j.attr("target",g),j.hide().append(k).appendTo("body"),j.submit()},disableFormElements:function(b){b.find(c.disableSelector).each(function(){var b=a(this),c=b.is("button")?"html":"val";b.data("ujs:enable-with",b[c]()),b[c](b.data("disable-with")),b.prop("disabled",!0)})},enableFormElements:function(b){b.find(c.enableSelector).each(function(){var b=a(this),c=b.is("button")?"html":"val";b.data("ujs:enable-with")&&b[c](b.data("ujs:enable-with")),b.prop("disabled",!1)})},allowAction:function(a){var b=a.data("confirm"),d=!1,e;return b?(c.fire(a,"confirm")&&(d=c.confirm(b),e=c.fire(a,"confirm:complete",[d])),d&&e):!0},blankInputs:function(b,c,d){var e=a(),f,g=c||"input,textarea";return b.find(g).each(function(){f=a(this);if(d?f.val():!f.val())e=e.add(f)}),e.length?e:!1},nonBlankInputs:function(a,b){return c.blankInputs(a,b,!0)},stopEverything:function(b){return a(b.target).trigger("ujs:everythingStopped"),b.stopImmediatePropagation(),!1},callFormSubmitBindings:function(c,d){var e=c.data("events"),f=!0;return e!==b&&e.submit!==b&&a.each(e.submit,function(a,b){if(typeof b.handler=="function")return f=b.handler(d)}),f},disableElement:function(a){a.data("ujs:enable-with",a.html()),a.html(a.data("disable-with")),a.bind("click.railsDisable",function(a){return c.stopEverything(a)})},enableElement:function(a){a.data("ujs:enable-with")!==b&&(a.html(a.data("ujs:enable-with")),a.data("ujs:enable-with",!1)),a.unbind("click.railsDisable")}},a.ajaxPrefilter(function(a,b,d){a.crossDomain||c.CSRFProtection(d)}),a(document).delegate(c.linkDisableSelector,"ajax:complete",function(){c.enableElement(a(this))}),a(document).delegate(c.linkClickSelector,"click.rails",function(d){var e=a(this),f=e.data("method"),g=e.data("params");if(!c.allowAction(e))return c.stopEverything(d);e.is(c.linkDisableSelector)&&c.disableElement(e);if(e.data("remote")!==b)return(d.metaKey||d.ctrlKey)&&(!f||f==="GET")&&!g?!0:(c.handleRemote(e)===!1&&c.enableElement(e),!1);if(e.data("method"))return c.handleMethod(e),!1}),a(document).delegate(c.inputChangeSelector,"change.rails",function(b){var d=a(this);return c.allowAction(d)?(c.handleRemote(d),!1):c.stopEverything(b)}),a(document).delegate(c.formSubmitSelector,"submit.rails",function(d){var e=a(this),f=e.data("remote")!==b,g=c.blankInputs(e,c.requiredInputSelector),h=c.nonBlankInputs(e,c.fileInputSelector);if(!c.allowAction(e))return c.stopEverything(d);if(g&&e.attr("novalidate")==b&&c.fire(e,"ajax:aborted:required",[g]))return c.stopEverything(d);if(f)return h?c.fire(e,"ajax:aborted:file",[h]):!a.support.submitBubbles&&a().jquery<"1.7"&&c.callFormSubmitBindings(e,d)===!1?c.stopEverything(d):(c.handleRemote(e),!1);setTimeout(function(){c.disableFormElements(e)},13)}),a(document).delegate(c.formInputClickSelector,"click.rails",function(b){var d=a(this);if(!c.allowAction(d))return c.stopEverything(b);var e=d.attr("name"),f=e?{name:e,value:d.val()}:null;d.closest("form").data("ujs:submit-button",f)}),a(document).delegate(c.formSubmitSelector,"ajax:beforeSend.rails",function(b){this==b.target&&c.disableFormElements(a(this))}),a(document).delegate(c.formSubmitSelector,"ajax:complete.rails",function(b){this==b.target&&c.enableFormElements(a(this))})})(jQuery),function(a){function b(b,c,d){d=f(c,d);var e=b.currentTarget;if(e.tagName.toUpperCase()!=="A")throw"$.fn.pjax or $.pjax.click requires an anchor element";if(b.which>1||b.metaKey)return;if(location.protocol!==e.protocol||location.host!==e.host)return;if(e.hash&&e.href.replace(e.hash,"")===location.href.replace(location.hash,""))return;var g={url:e.href,container:a(e).attr("data-pjax"),target:e,clickedElement:a(e),fragment:null};return a.pjax(a.extend({},g,d)),b.preventDefault(),!1}function c(a){return a.replace(/\?_pjax=[^&]+&?/,"?").replace(/_pjax=[^&]+&?/,"").replace(/[\?&]$/,"")}function d(a){var b=document.createElement("a");return b.href=a,b}function f(b,c){return b&&c?c.container=b:a.isPlainObject(b)?c=b:c={container:b},c.container&&(c.container=g(c.container)),c}function g(b){b=a(b);if(!b.length)throw"no pjax container for "+b.selector;if(b.selector!==""&&b.context===document)return b;if(b.attr("id"))return a("#"+b.attr("id"));throw"cant get selector for pjax container!"}a.fn.pjax=function(a,c){return this.live("click",function(d){return b(d,a,c)})};var e=a.pjax=function(b){function o(b,c){var d=a.Event(b,{relatedTarget:f});return n.trigger(d,c),!d.isDefaultPrevented()}b=a.extend(!0,{},a.ajaxSettings,e.defaults,b),a.isFunction(b.url)&&(b.url=b.url());var f=b.target;!f&&b.clickedElement&&(f=b.clickedElement[0]);var h=b.url,i=d(h).hash,j=b.beforeSend,k=b.complete,l=b.success,m=b.error,n=b.context=g(b.container);b.data||(b.data={}),b.data._pjax=n.selector;var p;b.beforeSend=function(a,d){h=c(d.url),d.timeout>0&&(p=setTimeout(function(){o("pjax:timeout",[a,b])&&a.abort("timeout")},d.timeout),d.timeout=0),a.setRequestHeader("X-PJAX","true"),a.setRequestHeader("X-PJAX-Container",n.selector);var e;if(j){e=j.apply(this,arguments);if(e===!1)return!1}if(!o("pjax:beforeSend",[a,d]))return!1;o("pjax:start",[a,b]),o("start.pjax",[a,b])},b.complete=function(a,c){p&&clearTimeout(p),k&&k.apply(this,arguments),o("pjax:complete",[a,c,b]),o("pjax:end",[a,b]),o("end.pjax",[a,b])},b.error=function(a,d,e){var f=a.getResponseHeader("X-PJAX-URL");f&&(h=c(f)),m&&m.apply(this,arguments);var g=o("pjax:error",[a,d,e,b]);d!=="abort"&&g&&(window.location=h)},b.success=function(d,f,g){var j=g.getResponseHeader("X-PJAX-URL");j&&(h=c(j));var k,m=document.title;if(b.fragment){var n=a("<html>").html(d),p=n.find(b.fragment);if(!p.length)return window.location=h;this.html(p.contents()),k=n.find("title").text()||p.attr("title")||p.data("title")}else{if(!a.trim(d)||/<html/i.test(d))return window.location=h;this.html(d),k=this.find("title").remove().text()}k&&(document.title=a.trim(k));var q={url:h,pjax:this.selector,fragment:b.fragment,timeout:b.timeout};b.replace?(e.active=!0,window.history.replaceState(q,document.title,h)):b.push&&(e.active||(window.history.replaceState(a.extend({},q,{url:null}),m),e.active=!0),window.history.pushState(q,document.title,h)),(b.replace||b.push)&&window._gaq&&_gaq.push(["_trackPageview"]),i!==""&&(window.location.href=i),l&&l.apply(this,arguments),o("pjax:success",[d,f,g,b])};var q=e.xhr;return q&&q.readyState<4&&(q.onreadystatechange=a.noop,q.abort()),e.options=b,e.xhr=a.ajax(b),a(document).trigger("pjax",[e.xhr,b]),e.xhr};e.defaults={timeout:650,push:!0,replace:!1,type:"GET",dataType:"html"},e.click=b;var h="state"in window.history,i=location.href;a(window).bind("popstate",function(b){var c=!h&&location.href==i;h=!0;if(c)return;var d=b.state;if(d&&d.pjax){var e=d.pjax;a(e+"").length?a.pjax({url:d.url||location.href,fragment:d.fragment,container:e,push:!1,timeout:d.timeout}):window.location=location.href}}),a.inArray("state",a.event.props)<0&&a.event.props.push("state"),a.support.pjax=window.history&&window.history.pushState&&window.history.replaceState&&!navigator.userAgent.match(/((iPod|iPhone|iPad).+\bOS\s+[1-4]|WebApps\/.+CFNetwork)/),a.support.pjax||(a.pjax=function(b){var c=a.isFunction(b.url)?b.url():b.url,d=b.type?b.type.toUpperCase():"GET",e=a("<form>",{method:d==="GET"?"GET":"POST",action:c,style:"display:none"});d!=="GET"&&d!=="POST"&&e.append(a("<input>",{type:"hidden",name:"_method",value:d.toLowerCase()}));var f=b.data;if(typeof f=="string")a.each(f.split("&"),function(b,c){var d=c.split("=");e.append(a("<input>",{type:"hidden",name:d[0],value:d[1]}))});else if(typeof f=="object")for(key in f)e.append(a("<input>",{type:"hidden",name:key,value:f[key]}));a(document.body).append(e),e.submit()},a.pjax.click=a.noop,a.fn.pjax=function(){return this})}(jQuery),$(document).ready(function(){$(document).trigger("pageChanged"),$(document).trigger("pageUpdated")}),$(document).bind("pjax:end",function(){$(document).trigger("pageChanged"),$(document).trigger("pageUpdated")}),$(document).bind("ajaxComplete",function(){$(document).trigger("pageUpdated")}),$("a:not([data-remote]):not([data-behavior]):not([data-skip-pjax])").pjax("[data-pjax-container]"),function(){}.call(this),$(document).ready(function(){$(".results").hide(),$("#notice").hide()});